webpackJsonp([0],{122:function(t,a,e){function n(){var t=this;t.setButtonActions(),t.fetchAPIData()}var r=e(1),o=e(2),i=e(3);e(0);const s={BRL:{name:"Brazilian Reais",quote_name:"brl"},EUR:{name:"Euros",quote_name:"eur"},ARS:{name:"Pesos Argentinos",quote_name:"ars"}};n.prototype.getData=function(){var t=this;return i.mapValues(s,function(a){return{name:a.name,data:i.map(t.apiData,function(t){return[1e3*t.timestamp,t[a.quote_name]]})}})},n.prototype.setButtonActions=function(){var t=this;o("#chartContainer button").click(function(a){a.preventDefault(),t.chart&&t.chart.destroy();var e=o(this).attr("id");t.plotChart(e)})},n.prototype.onSuccess=function(){var t=this;return function(a){t.apiData=i.sortBy(a,function(t){return t.timestamp}),t.data=t.getData(),t.plotChart()}},n.prototype.fetchAPIData=function(){var t=this;o.ajax({url:"/api/",dataType:"json",success:t.onSuccess()})},n.prototype.plotChart=function(t){var a=this;t=t||"BRL";var e=a.data[t];a.chart=r.chart(chart,{chart:{},title:{text:"USD to "+e.name+" exchange rate over time"},xAxis:{type:"datetime"},yAxis:{title:{text:"Exchange rate"}},legend:{enabled:!1},plotOptions:{area:{fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,r.getOptions().colors[0]],[1,r.Color(r.getOptions().colors[0]).setOpacity(0).get("rgba")]]},marker:{radius:2},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null}},series:[{type:"area",name:"USD to "+e.name,data:e.data}]})},chartView=new n}},[122]);